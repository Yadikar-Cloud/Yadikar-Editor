tinymce.PluginManager.add("openfromcomputer",function(e,t){let n=null;async function o(){try{if(!window.showOpenFilePicker)return void e.notificationManager.open({text:"File System Access API is not supported in your browser. Please use Chrome, Edge, or Opera.",type:"error",timeout:5e3});const t={types:[{description:"Text files",accept:{"text/plain":[".txt"]}},{description:"HTML files",accept:{"text/html":[".html",".htm"]}},{description:"Markdown files",accept:{"text/markdown":[".md"]}},{description:"All files",accept:{"*/*":["*"]}}],multiple:!1};[n]=await window.showOpenFilePicker(t);const o=await n.getFile(),i=await o.text();e.setContent(i),window.currentLocalFile={handle:n,name:o.name},e.notificationManager.open({text:"Opened: "+o.name,type:"success",timeout:3e3})}catch(t){"AbortError"!==t.name&&(console.error("Error opening file:",t),e.notificationManager.open({text:"Failed to open file: "+t.message,type:"error",timeout:5e3}))}}return e.ui.registry.addButton("openfromcomputer",{text:"Open File",onAction:function(){o()}}),e.ui.registry.addMenuItem("openfromcomputer",{text:"from Local Device",onAction:function(){o()}}),{getMetadata:function(){return{name:"Open from Computer",url:"http://yoursite.com"}}}});