!function(){"use strict";var t=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=(Object.hasOwnProperty,tinymce.util.Tools.resolve("tinymce.util.Tools")),i=(tinymce.util.Tools.resolve("tinymce.util.URI"),tinymce.util.Tools.resolve("tinymce.util.XHR"),function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)}),o="SpeechRecognitionStart SpeechRecognitionEnd",r=function(t,e,r){var c,u,a=(c=function(t){return n.map(function(t){return t.getParam("webspeechapi_language","English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv")}(t).split(","),(function(t){var e=t.split("=");return{name:e[0],value:e[1]}}))}(t),u=[],n.each(c,(function(t){u.push({selectable:!0,text:t.name,data:t.value})})),u),s=function(){e.set(!e.get()),function(t){t.fire("SpeechRecognitionStart")}(t)},l={tooltip:"Speech Recognition",onAction:s,icon:"microphone",onSetup:function(n){n.setActive(e.get());var i=function(){n.setActive(e.get())};return t.on(o,i),function(){t.off(o,i)}}},g=i(i({},l),{type:"splitbutton",select:function(t){return t===r.get()},fetch:function(t){t(n.map(a,(function(t){return{type:"choiceitem",value:t.data,text:t.text}})))},onItemAction:function(t,e){r.set(e)}});a.length>1?t.ui.registry.addSplitButton("speechrecognition",g):t.ui.registry.addToggleButton("speechrecognition",l),t.ui.registry.addToggleMenuItem("speechrecognition",{text:"Speech Recognition",icon:"microphone",onSetup:function(n){n.setActive(e.get());var i=function(){n.setActive(e.get())};return t.on(o,i),function(){t.off(o,i)}},onAction:s})};e.add("speechrecognition",(function(e){var n=t(!1),i=t(function(t){var e=t.getParam("language","en");return t.getParam("spellchecker_language",e)}(e));return r(e,n,i),function(t,e,n){return{markErrors:function(n){markErrors(t,e,n)},getLanguage:n.get}}(e,n,i)}))}();